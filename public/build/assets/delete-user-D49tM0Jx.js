import{j as t,r as h,F as f}from"./app-CvaAx_e9.js";import{q as i}from"./index-BwAPeLAO.js";import{H as y}from"./heading-small-CQHbZMnm.js";import{L as x,I as j,a as b}from"./label-Dmm5gFMS.js";import{c as l,B as n}from"./button-BEgLEFid.js";import{R as v,T as D,C as w,a as c,X as N,b as C,D as Q,P,O as _}from"./index-BbjcQTg-.js";const r=e=>({url:r.url(e),method:"get"});r.definition={methods:["get","head"],url:"/settings/profile"};r.url=e=>r.definition.url+i(e);r.get=e=>({url:r.url(e),method:"get"});r.head=e=>({url:r.url(e),method:"head"});const u=e=>({action:r.url(e),method:"get"});u.get=e=>({action:r.url(e),method:"get"});u.head=e=>({action:r.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});r.form=u;const s=e=>({url:s.url(e),method:"patch"});s.definition={methods:["patch"],url:"/settings/profile"};s.url=e=>s.definition.url+i(e);s.patch=e=>({url:s.url(e),method:"patch"});const m=e=>({action:s.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});m.patch=e=>({action:s.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});s.form=m;const o=e=>({url:o.url(e),method:"delete"});o.definition={methods:["delete"],url:"/settings/profile"};o.url=e=>o.definition.url+i(e);o.delete=e=>({url:o.url(e),method:"delete"});const g=e=>({action:o.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});g.delete=e=>({action:o.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});o.form=g;const q={update:s,destroy:o};function E({...e}){return t.jsx(v,{"data-slot":"dialog",...e})}function T({...e}){return t.jsx(D,{"data-slot":"dialog-trigger",...e})}function k({...e}){return t.jsx(P,{"data-slot":"dialog-portal",...e})}function F({...e}){return t.jsx(c,{"data-slot":"dialog-close",...e})}function z({className:e,...a}){return t.jsx(_,{"data-slot":"dialog-overlay",className:l("fixed inset-0 z-50 bg-black/80 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:animate-in data-[state=open]:fade-in-0",e),...a})}function O({className:e,children:a,...d}){return t.jsxs(k,{"data-slot":"dialog-portal",children:[t.jsx(z,{}),t.jsxs(w,{"data-slot":"dialog-content",className:l("fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border bg-background p-6 shadow-lg duration-200 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95 sm:max-w-lg",e),...d,children:[a,t.jsxs(c,{className:"absolute top-4 right-4 rounded-xs opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[t.jsx(N,{}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function H({className:e,...a}){return t.jsx("div",{"data-slot":"dialog-footer",className:l("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...a})}function S({className:e,...a}){return t.jsx(C,{"data-slot":"dialog-title",className:l("text-lg leading-none font-semibold",e),...a})}function A({className:e,...a}){return t.jsx(Q,{"data-slot":"dialog-description",className:l("text-sm text-muted-foreground",e),...a})}function I(){const e=h.useRef(null);return t.jsxs("div",{className:"space-y-6",children:[t.jsx(y,{title:"Delete account",description:"Delete your account and all of its resources"}),t.jsxs("div",{className:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10",children:[t.jsxs("div",{className:"relative space-y-0.5 text-red-600 dark:text-red-100",children:[t.jsx("p",{className:"font-medium",children:"Warning"}),t.jsx("p",{className:"text-sm",children:"Please proceed with caution, this cannot be undone."})]}),t.jsxs(E,{children:[t.jsx(T,{asChild:!0,children:t.jsx(n,{variant:"destructive","data-test":"delete-user-button",children:"Delete account"})}),t.jsxs(O,{children:[t.jsx(S,{children:"Are you sure you want to delete your account?"}),t.jsx(A,{children:"Once your account is deleted, all of its resources and data will also be permanently deleted. Please enter your password to confirm you would like to permanently delete your account."}),t.jsx(f,{...q.destroy.form(),options:{preserveScroll:!0},onError:()=>e.current?.focus(),resetOnSuccess:!0,className:"space-y-6",children:({resetAndClearErrors:a,processing:d,errors:p})=>t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(x,{htmlFor:"password",className:"sr-only",children:"Password"}),t.jsx(j,{id:"password",type:"password",name:"password",ref:e,placeholder:"Password",autoComplete:"current-password"}),t.jsx(b,{message:p.password})]}),t.jsxs(H,{className:"gap-2",children:[t.jsx(F,{asChild:!0,children:t.jsx(n,{variant:"secondary",onClick:()=>a(),children:"Cancel"})}),t.jsx(n,{variant:"destructive",disabled:d,asChild:!0,children:t.jsx("button",{type:"submit","data-test":"confirm-delete-user-button",children:"Delete account"})})]})]})})]})]})]})]})}const X=Object.freeze(Object.defineProperty({__proto__:null,default:I},Symbol.toStringTag,{value:"Module"}));export{I as D,q as P,X as d};
