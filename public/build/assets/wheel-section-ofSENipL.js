import{u as n,j as e,s as i}from"./app-B1dnFpd4.js";import{d as r,a as c,b as l}from"./raffle-thunk-DXNd-8j-.js";import o from"./slot-machine-section-Ct0Kc6ma.js";import"./index-BsoJ1PCu.js";import"./proxy-Dj-X-eQs.js";const f=()=>{const{participants:s}=n(t=>t.raffles);console.log("Winner selected: ",s);async function a(t){console.log("Winner selected: ",t);try{await r({...t,participant_id:t.id,raffle_event_id:window.location.pathname.split("/")[4]}),await i.dispatch(c()),await i.dispatch(l())}catch{}}return e.jsxs("div",{className:"rounded-2xl bg-white p-8 shadow-2xl lg:col-span-2",children:[e.jsxs("div",{className:"mb-6 text-center",children:[e.jsx("h2",{className:"mb-2 text-3xl font-bold text-gray-800",children:"Spin to Win!"}),e.jsxs("p",{className:"text-gray-600",children:["Participants remaining:"," ",e.jsx("span",{className:"text-xl font-bold text-green-600",children:s?.filter(t=>!t.is_winner).length||0})]})]}),!s||s.length===0?e.jsx("div",{className:"flex h-96 items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mb-4 text-6xl",children:"ðŸŽ«"}),e.jsx("p",{className:"text-xl text-gray-500",children:"No participants available"}),e.jsx("p",{className:"mt-2 text-gray-400",children:"Register participants first to start the draw"})]})}):e.jsx(o,{participants:s,getWinner:a})]})};export{f as default};
